# タスク詳細: 1.1.4 requirements.txt 作成

## 概要

jupyter-serverで使用する追加Pythonパッケージを定義するrequirements.txtを作成する。

ベースイメージ`jupyter/scipy-notebook:python-3.11`には、pandas, numpy, scipy, matplotlibなどの基本的なデータ分析ライブラリが含まれているため、それ以外に必要なパッケージを追加する。

## 関連ドキュメント

- 要件定義: `docs/requirements/jupyter-server.md` の「技術仕様 > プリインストールライブラリ」セクション

## 実装計画

### 作成するファイル

| ファイル | 内容 |
|----------|------|
| `jupyter-server/requirements.txt` | 追加Pythonパッケージの一覧（既存ファイルを更新） |

### ベースイメージに含まれるパッケージ

`jupyter/scipy-notebook`には以下が含まれている（追加不要）:
- pandas, numpy, scipy
- matplotlib, seaborn
- scikit-learn, statsmodels
- sqlalchemy
- ipywidgets

### 追加が必要なパッケージ

ベースイメージに含まれないパッケージのみ追加（バージョン固定）:

```
# 可視化（追加分）
plotly==6.5.2
japanize-matplotlib==1.1.3

# データ処理（追加分）
polars==1.37.1

# 機械学習（追加分）
lightgbm==4.6.0
xgboost==3.1.3

# データベース接続（追加分）
psycopg2-binary==2.9.11
pymysql==1.1.2

# ユーティリティ
python-dotenv==1.2.1
```

### 実装手順

1. `jupyter-server/requirements.txt` に上記パッケージを追記
2. コメントでカテゴリを分類し、可読性を確保
3. バージョンは `==` で固定し、再現性を確保

### 技術的な考慮事項

- **ベースイメージ依存**: pandas, numpy, scikit-learn等の基本ライブラリはベースイメージのバージョンに依存
- **追加パッケージのみ固定**: ベースイメージに含まれないパッケージのみバージョン固定（`==`）
- **japanize-matplotlib**: `import japanize_matplotlib` するだけでmatplotlibで日本語が表示可能になる
- **psycopg2-binary**: 開発・テスト用には`psycopg2-binary`が適切。本番環境では`psycopg2`を検討
- **バージョン更新**: 定期的にセキュリティアップデートを確認し、必要に応じてバージョンを更新すること

## 完了条件

- [ ] requirements.txtに要件定義のパッケージが全て記載されている
- [ ] パッケージがカテゴリ別に整理されている
- [ ] ベースイメージに含まれるパッケージとの重複がない
- [ ] `docker build`が成功する（1.1.6で検証）

## テスト計画

- Dockerイメージのビルドが成功することを確認（タスク1.1.6で実施）
- ビルド後、コンテナ内で`pip list`を実行し、全パッケージがインストールされていることを確認

---

## レビューステータス

- [x] 計画レビュー完了
- [x] 実装完了
- [ ] テスト完了
