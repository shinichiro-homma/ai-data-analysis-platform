---
paths:
  - "docs/**/*.md"
  - "**/CLAUDE.md"
---

# ドキュメント更新ルール

ドキュメントファイルを編集する際に適用されるルール。

## 要件変更時の手順

要件定義を変更する場合は、以下の手順に従う。

### 1. 影響範囲の洗い出し

変更前に、以下のファイルへの影響を確認する：

| ファイル | 確認内容 |
|----------|----------|
| `docs/overview.md` | 全体像・アーキテクチャへの影響 |
| `docs/requirements/*.md` | 他コンポーネントの要件への影響 |
| `docs/design/api-contracts.md` | API仕様への影響 |
| `*/CLAUDE.md` | 各コンポーネント概要への影響 |
| `docs/PLAN.md` | 開発タスクへの影響 |

### 2. 変更順序

以下の順序で変更を適用する：

1. 要件定義ファイル（`docs/requirements/*.md`）
2. API仕様（`docs/design/api-contracts.md`）
3. 全体像（`docs/overview.md`）
4. 各コンポーネントの CLAUDE.md
5. 開発プラン（`docs/PLAN.md`）

### 3. 整合性確認

変更後、以下の整合性を確認する：

- 要件定義とAPI仕様が一致している
- 要件定義と開発タスクが一致している
- overview.md が最新の状態を反映している

### 4. 変更履歴の記録

`docs/PLAN.md` の「変更履歴」セクションに記録する。

## 記述スタイル

### 見出し

- 見出しレベルは適切に（H1 はファイルに1つ）
- 見出しは簡潔に

### 表

- 比較、一覧は表形式を使用する
- ヘッダー行を必ず含める

### コードブロック

- 言語を明示する（```typescript, ```python, ```bash）
- 長すぎるコードは省略（`...`）を使用

### リンク

- 相対パスを使用する
- リンク切れに注意する

## 各ファイルの役割

| ファイル | 役割 | 更新頻度 |
|----------|------|----------|
| `CLAUDE.md`（ルート） | プロジェクト概要、参照先 | 低 |
| `docs/overview.md` | 全体像、アーキテクチャ | 低 |
| `docs/requirements/*.md` | 各コンポーネントの要件 | 中 |
| `docs/design/api-contracts.md` | API仕様 | 中 |
| `docs/PLAN.md` | 開発タスク、進捗 | 高 |
| `*/CLAUDE.md` | コンポーネント概要 | 低 |
